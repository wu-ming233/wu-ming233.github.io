{% include base_path %}

<!-- start custom head snippets -->

<!-- favicon disabled -->
<!-- <link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="{{ base_path }}/images/favicon.svg"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/> -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css" />


<!-- Support for MatJax -->
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
    /* Hide the top navigation bar */
    .masthead {
        display: none !important;
    }

    /* Adjust top spacing since masthead is gone */
    body {
        padding-top: 2em !important;
    }

    /* Floating profile styles */
    .profile-float-right {
        float: right;
        width: 180px;
        margin-left: 2em;
        margin-bottom: 1.5em;
        text-align: center;
        /* Center picture and icons */
    }

    .profile-float-right img {
        width: 100%;
        border-radius: 8px;
        margin-bottom: 0.8em;
    }

    .profile-float-right .social-links {
        display: flex;
        justify-content: center;
        gap: 15px;
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .profile-float-right .social-links li {
        margin-bottom: 0;
    }

    .profile-float-right .social-links a {
        color: var(--global-text-color-light);
        text-decoration: none;
        font-size: 1.4em;
        /* Larger icons */
        transition: color 0.2s;
    }

    .profile-float-right .social-links a:hover {
        color: var(--global-link-color);
    }

    /* Enlarge the main title */
    .page__title {
        font-size: 2.2em !important;
        margin-bottom: 0.1em !important;
        padding-bottom: 0 !important;
    }

    /* Section styling with padding and allowing bleed */
    #about-me-section {
        padding-top: 1.2em;
        /* More space below title */
        margin-bottom: 0 !important;
        /* Allow publications to rise */
    }

    /* Remove the aggressive header mapping */
    #about-me-section+h1,
    #about-me-section+h2 {
        padding-top: 0.2em !important;
        margin-top: 0 !important;
        clear: none !important;
        /* Allow sitting next to float */
    }

    /* Responsiveness */
    @media (max-width: 600px) {
        .profile-float-right {
            float: none;
            width: 100%;
            max-width: 250px;
            margin: 0 auto 2em;
        }
    }

    /* Publication Box and Button Styles */
    .publication-box {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
        background-color: rgb(252, 252, 252);
        position: relative;
    }

    /* Container for the bottom row: "Preprint..." and Buttons */
    .publication-bottom {
        display: flex;
        justify-content: flex-start;
        /* Align left, next to each other */
        align-items: center;
        margin-top: 4px;
        flex-wrap: wrap;
        gap: 12px;
        /* Slight gap between venue and buttons */
    }

    .publication-metadata {
        font-style: italic;
        color: #555;
        margin: 0;
    }

    .publication-links {
        display: flex;
        gap: 8px;
    }

    .publication-box h3 {
        margin-top: 0;
        margin-bottom: 6px;
    }

    .publication-box p {
        margin-top: 0;
        margin-bottom: 6px;
    }

    /** Ensure content p has no bottom margin to fit nicely above the bottom row */
    .publication-content p {
        margin-bottom: 4px;
    }

    .publication-box h3 a {
        text-decoration: none;
        color: inherit;
    }

    /* Dark mode styles for box */
    @media (prefers-color-scheme: dark) {
        .publication-box {
            background-color: rgb(40, 40, 40);
            border-color: #555;
        }
    }

    .dark .publication-box,
    [data-theme="dark"] .publication-box,
    body.dark-mode .publication-box {
        background-color: rgb(40, 40, 40);
        border-color: #555;
    }

    /* Button style for publication links - Sharp Rectangle Style */
    .btn-pub {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 2px 8px;
        /* Reduced padding for shorter height */
        margin-right: 0;
        /* Handled by gap in container */
        border: 1px solid var(--global-link-color);
        border-radius: 3px;
        /* Sharp rectangle with very slight rounding */
        background-color: transparent;
        color: var(--global-link-color);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        font-size: 0.85em;
        /* Slightly smaller font */
        font-weight: 600;
        text-decoration: none !important;
        transition: all 0.2s ease-in-out;
        line-height: 1.2;
        height: 24px;
        /* Fixed height for consistency */
    }

    .btn-pub:hover {
        background-color: var(--global-link-color);
        color: white !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        transform: translateY(-1px);
        text-decoration: none !important;
    }

    /* Handle stars inside buttons */
    .btn-pub .github-star-count {
        display: inline-flex;
        align-items: center;
        margin-left: 4px;
        /* Simple gap between Code and Star */
        background: transparent !important;
        /* Ensure no pill background */
        height: 100%;
    }

    .btn-pub .github-star-count i {
        color: #ffd700 !important;
        font-size: 0.9em;
        margin-right: 3px;
        display: flex;
        align-items: center;
    }

    .btn-pub .github-star-count span {
        font-size: 1em;
        font-weight: 500;
        line-height: 1;
    }

    .btn-pub:hover .github-star-count i {
        color: white !important;
    }

    /* Anthropic Icon (Left Aligned) */
    .anthropic-icon {
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-right: 6px;
        /* Moved to left */
        background-image: url('/assets/images/anthropic-logo.png');
        background-size: 150%;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 2px;
        vertical-align: middle;
    }

    .anthropic-icon svg {
        display: none;
    }

    .btn-pub:hover .anthropic-icon {
        filter: brightness(1.1);
    }

    /* DuckDB Icon (Left Aligned) */
    .duckdb-icon {
        display: inline-block;
        width: 16px;
        height: 16px;
        margin-right: 6px;
        background-image: url('/assets/images/duckdb-logo.png');
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 2px;
        vertical-align: middle;
    }

    .btn-pub:hover .duckdb-icon {
        filter: brightness(1.1);
    }

    /* Dark mode adjustments for buttons */
    @media (prefers-color-scheme: dark) {
        .btn-pub {
            color: #58a6ff;
            border-color: #58a6ff;
        }

        .btn-pub:hover {
            background-color: #58a6ff;
            color: #0d1117 !important;
        }

        .btn-pub:hover .github-star-count i {
            color: #0d1117 !important;
        }
    }

    .dark .btn-pub,
    [data-theme="dark"] .btn-pub,
    body.dark-mode .btn-pub {
        color: #58a6ff;
        border-color: #58a6ff;
    }

    .dark .btn-pub:hover,
    [data-theme="dark"] .btn-pub:hover,
    body.dark-mode .btn-pub:hover {
        background-color: #58a6ff;
        color: #0d1117 !important;
    }

    /* Center Footer */
    .page__footer footer {
        text-align: center;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const starContainers = document.querySelectorAll('.github-star-count[data-repo]');
        starContainers.forEach(container => {
            const repo = container.getAttribute('data-repo');
            fetch(`https://api.github.com/repos/${repo}`)
                .then(response => response.json())
                .then(data => {
                    if (data.stargazers_count !== undefined) {
                        // Simple space, star, and count without dividers or extra containers
                        container.innerHTML = `&nbsp;<i class="fas fa-star" aria-hidden="true"></i> <span>${data.stargazers_count}</span>`;
                        container.style.display = 'inline-flex';
                    }
                })
                .catch(err => console.error('Error fetching star count:', err));
        });
    });
</script>

<!-- end custom head snippets -->